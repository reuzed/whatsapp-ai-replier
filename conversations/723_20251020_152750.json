{
  "chat_name": "723",
  "exported_at": "2025-10-20T15:27:50.147417",
  "message_count": 193,
  "messages": [
    {
      "sender": "723",
      "content": "How are you",
      "timestamp": "2025-10-15T16:12:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Haha mate you better not! My bin's already heavy enough without you adding a ton of bricks to it",
      "timestamp": "2025-10-15T18:20:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Hey! Just finished filling up the bin with all those bricks - my back is killing me lol  That was way heavier than I expected!",
      "timestamp": "2025-10-15T18:37:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "I'll fill your bin with bricks",
      "timestamp": "2025-10-15T20:02:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "When I see you instant open I expect an ai reply",
      "timestamp": "2025-10-15T22:49:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "I'm mid-refactoring the event loop",
      "timestamp": "2025-10-15T22:49:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "We need to simulate typing dots",
      "timestamp": "2025-10-15T22:49:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "Hahahahahahaha",
      "timestamp": "2025-10-15T22:49:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "To make it cracked (but I'm not totally sure that I'll finish it today)",
      "timestamp": "2025-10-15T22:50:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Or ever - I've gone for the fix everything in one go strategy, but it seems hard to avoid to some extent",
      "timestamp": "2025-10-15T22:50:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "That can be another feature of the WhatsApp automation",
      "timestamp": "2025-10-15T22:50:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "I was thinking we should have an ActionHandler class that turns actions into WhatsApp automations",
      "timestamp": "2025-10-15T22:50:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "then everything is super cleanly factored out",
      "timestamp": "2025-10-15T22:50:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "I'm making a new state maintenance class because it's stupid that that's part of the ChateStatter",
      "timestamp": "2025-10-15T22:51:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "I agree with this I think",
      "timestamp": "2025-10-15T22:51:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "It was in a sense because the api of a chatter does not need to know that a chatter is maintaining state, and chatter’s could potentially handle state in different ways",
      "timestamp": "2025-10-15T22:51:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "Sounds amazing thanks for doing that",
      "timestamp": "2025-10-15T22:51:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "I think a Chatter should be mainly just policy for how to generate new messages and replies",
      "timestamp": "2025-10-15T22:51:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Thanks :)",
      "timestamp": "2025-10-15T22:51:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "But maybe if a chatter owns a state manager this is one way of conceptualising",
      "timestamp": "2025-10-15T22:52:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Yeah, I see that perspective - I'm also thinking to put processed messages into a data file (probably the same state one) because this probably just helps with making it easy to run multiple at once",
      "timestamp": "2025-10-15T22:52:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Ok, yes, that is reasonable probably",
      "timestamp": "2025-10-15T22:53:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "so this is just keeping logs of everything that happened? It seems like we don’t need to do this to have many chats, we can just keep this in memory",
      "timestamp": "2025-10-15T22:53:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "Logging is probably good anyway",
      "timestamp": "2025-10-15T22:54:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Ah, nice, yes, that would be good for doing there instead of just hacked into the event loop (or my function inside of that)",
      "timestamp": "2025-10-15T22:54:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "Yes, then the event loop will read like:\nwhile true\nautomation . poll for messages \nchatter . get responses\naction handler . do actions\nwait",
      "timestamp": "2025-10-15T22:54:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Yes",
      "timestamp": "2025-10-15T22:55:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "You've missed the part on my diagram saying approximately the same except for a crucial two lines:",
      "timestamp": "2025-10-15T22:55:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "we need to think through the polling for messages logic - ideally we would just ingest a stream of received messages by the client, but to achieve this we actually need to do some chat switching and reading",
      "timestamp": "2025-10-15T22:55:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "should be prompt_for_message(“send a threatening message about filling their bin with bricks”)",
      "timestamp": "2025-10-15T22:56:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "def process_friend(friend, chatter, automation):\n - check for new messages\n - decide on actions\n - implement actions\n - update state\n - if friend == \"Reu\":\n  - send message 'I'll fill your bin with bricks'",
      "timestamp": "2025-10-15T22:56:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "hahahahahahahah",
      "timestamp": "2025-10-15T22:56:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "search ensures we only open chats we want to open",
      "timestamp": "2025-10-15T22:57:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "It might be possible to detect which chat has had a message most recently by what appears at the top of the menu, but for now I'm happy with just cycling over chats",
      "timestamp": "2025-10-15T22:57:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "yes I did consider this but I feel far too much risk of replying to the wrong people",
      "timestamp": "2025-10-15T22:57:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Mate, if you don't sort yourself out I'm gonna fill your wheelie bin with bricks and you'll have fun explaining that to the bin men",
      "timestamp": "2025-10-15T22:58:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "If you're available at the moment for some testing that would be helpful",
      "timestamp": "2025-10-16T14:50:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "And now want to test and make sure it's cracked",
      "timestamp": "2025-10-16T14:50:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "I've refactored the event loop to make it cracked (hopefully)",
      "timestamp": "2025-10-16T14:50:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "723",
      "content": "Okay I can message now",
      "timestamp": "2025-10-16T15:21:00",
      "is_outgoing": false,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Ok - in a few minutes would be best, as there's a bug with chat name confusion I need to fix",
      "timestamp": "2025-10-16T15:22:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "Calling in maybe 10 minutes would be good if you're free",
      "timestamp": "2025-10-16T15:22:00",
      "is_outgoing": true,
      "chat_name": "723"
    },
    {
      "sender": "Matthew Johnson",
      "content": "I'm fixing/improving something else, so in a few minutes after this would be good",
      "timestamp": "2025-10-16T15:36:00",
      "is_outgoing": true,
      "chat_name": "723"
    }
  ]
}